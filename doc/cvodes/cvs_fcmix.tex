%%==============================================================================
\chapter{Using CVODES for Fortran Applications}\label{s:cvsfort}
%%==============================================================================

A Fortran 2003 module (\id{fcvodes\_mod}) is provided to support the use of {\cvodes},
in a mixed Fortran/{\CC} setting. While {\cvodes} is written in {\CC}, it is assumed
here that the user's calling program and user-supplied problem-defining routines are
written in Fortran. 

%%==============================================================================
% Fortran 2003 Interfaces.
%%==============================================================================

\let\sectiontype\subsection
\section{CVODES Fortran 2003 Interface Module}\label{s:cvsf2003}

The \ID{fcvodes\_mod} Fortran module defines interfaces to most {\cvodes} {\CC}
functions using the intrinsic \id{iso\_c\_binding} module which provides a
standardized mechanism for interoperating with {\CC}. All interfaced functions
are named after the corresponding {\CC} function, but with a leading `F'. For
example, the {\cvodes} function \id{CVodeCreate} is interfaced as
\id{FCVodeCreate}. Thus, the steps to use {\cvodes} and the function calls in
Fortran 2003 are identical (ignoring language differences) to those in {\CC}. The
{\CC} functions with Fortran 2003 interfaces indicate this in their description in
Chapters \ref{s:simulation}, \ref{s:forward}, and \ref{s:adjoint}. The Fortran 2003
{\cvodes} interface module can be accessed by the \id{use} statement, i.e.
\id{use fcvodes\_mod}, and linking to the library \id{libsundials\_fcvodes\_mod}.{\em lib}
in addition to \id{libsundials\_cvodes}.{\em lib}.

% Pull in sections on portability and data types.
\input{fortran2003}

