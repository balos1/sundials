#!/bin/sh

tarfile=$1
distrobase=$2
doc=$3

# all remaining inputs are for tar command
shift 3
tar=$*

echo "   --- Add arkode module to $tarfile"

if [ $doc = "T" ]; then
    $tar $tarfile $distrobase/doc/arkode/ark_guide.pdf    || exit 1
    $tar $tarfile $distrobase/doc/arkode/ark_examples.pdf || exit 1
fi

$tar $tarfile $distrobase/include/arkode/arkode.h              || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_arkstep.h      || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_bandpre.h      || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_bbdpre.h       || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_butcher.h      || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_butcher_dirk.h || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_butcher_erk.h  || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_erkstep.h      || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_ls.h           || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_mristep.h      || exit 1
$tar $tarfile $distrobase/include/arkode/arkode_xbraid.h       || exit 1

$tar $tarfile $distrobase/src/arkode/LICENSE        || exit 1
$tar $tarfile $distrobase/src/arkode/NOTICE         || exit 1
$tar $tarfile $distrobase/src/arkode/README.md      || exit 1
$tar $tarfile $distrobase/src/arkode/CMakeLists.txt || exit 1

$tar $tarfile $distrobase/src/arkode/arkode.c              || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_adapt.c        || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_adapt_impl.h   || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_arkstep.c      || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_arkstep_impl.h || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_arkstep_io.c   || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_arkstep_nls.c  || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_bandpre.c      || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_bandpre_impl.h || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_bbdpre.c       || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_bbdpre_impl.h  || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_butcher.c      || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_butcher_dirk.c || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_butcher_erk.c  || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_erkstep.c      || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_erkstep_impl.h || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_erkstep_io.c   || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_impl.h         || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_interp.c       || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_interp_impl.h  || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_io.c           || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_ls.c           || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_ls_impl.h      || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_mri_tables.c   || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_mristep.c      || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_mristep_impl.h || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_mristep_io.c   || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_mristep_nls.c  || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_root.c         || exit 1
$tar $tarfile $distrobase/src/arkode/arkode_root_impl.h    || exit 1

$tar $tarfile $distrobase/src/arkode/xbraid/CMakeLists.txt       || exit 1
$tar $tarfile $distrobase/src/arkode/xbraid/arkode_xbraid.c      || exit 1
$tar $tarfile $distrobase/src/arkode/xbraid/arkode_xbraid_impl.h || exit 1

echo "   --- Add farkode module to $tarfile"

$tar $tarfile $distrobase/src/arkode/fcmix/CMakeLists.txt || exit 1

$tar $tarfile $distrobase/src/arkode/fcmix/farkadapt.c         || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkband.c          || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkbandmass.c      || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkbbd.c           || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkbbd.h           || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkbp.c            || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkbp.h            || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkdense.c         || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkdensemass.c     || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkewt.c           || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkexpstab.c       || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkjtimes.c        || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkmasspreco.c     || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkmtimes.c        || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farknulllinsol.c    || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farknullmatrix.c    || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farknullnonlinsol.c || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkode.c           || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkode.h           || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkpreco.c         || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkroot.c          || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farkroot.h          || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farksparse.c        || exit 1
$tar $tarfile $distrobase/src/arkode/fcmix/farksparsemass.c    || exit 1

echo "   --- Add arkode F2003 interface to $tarfile"

$tar $tarfile $distrobase/src/arkode/fmod/CMakeLists.txt          || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_mod.c           || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_mod.f90         || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_arkstep_mod.c   || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_arkstep_mod.f90 || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_erkstep_mod.c   || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_erkstep_mod.f90 || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_mristep_mod.c   || exit 1
$tar $tarfile $distrobase/src/arkode/fmod/farkode_mristep_mod.f90 || exit 1

echo "   --- Add arkode examples to $tarfile"

$tar $tarfile $distrobase/examples/arkode/CMakeLists.txt || exit 1

$tar $tarfile $distrobase/examples/arkode/C_manyvector/CMakeLists.txt                || exit 1
$tar $tarfile $distrobase/examples/arkode/C_manyvector/README                        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_manyvector/ark_brusselator1D_manyvec.c   || exit 1
$tar $tarfile $distrobase/examples/arkode/C_manyvector/ark_brusselator1D_manyvec.out || exit 1
$tar $tarfile $distrobase/examples/arkode/C_manyvector/plot_brusselator1D.py         || exit 1

$tar $tarfile $distrobase/examples/arkode/C_openmp/CMakeLists.txt            || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmp/README                    || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmp/ark_brusselator1D_omp.c   || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmp/ark_brusselator1D_omp.out || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmp/plot_brusselator1D.py     || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmp/ark_heat1D_omp.c          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmp/ark_heat1D_omp.out        || exit 1

$tar $tarfile $distrobase/examples/arkode/C_openmpdev/CMakeLists.txt                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/README                         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/ark_analytic_nonlin_ompdev.c   || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/ark_analytic_nonlin_ompdev.out || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/ark_heat1D_adapt_ompdev.c      || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/ark_heat1D_adapt_ompdev.out    || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/ark_heat1D_ompdev.c            || exit 1
$tar $tarfile $distrobase/examples/arkode/C_openmpdev/ark_heat1D_ompdev.out          || exit 1

basedir=$distrobase/examples/arkode/C_parallel
$tar $tarfile $basedir/README                                                           || exit 1
$tar $tarfile $basedir/plot_brusselator1D.py                                            || exit 1
$tar $tarfile $basedir/CMakeLists.txt                                                   || exit 1
$tar $tarfile $basedir/ark_diurnal_kry_p.out                                            || exit 1
$tar $tarfile $basedir/ark_diurnal_kry_p.c                                              || exit 1
$tar $tarfile $basedir/ark_diurnal_kry_bbd_p.out                                        || exit 1
$tar $tarfile $basedir/ark_diurnal_kry_bbd_p.c                                          || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls.c                               || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls_--monitor.out                   || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls_--monitor_--global-nls.out      || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls_--monitor_--explicit_--tf_3.out || exit 1

$tar $tarfile $distrobase/examples/arkode/C_parhyp/CMakeLists.txt         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_parhyp/README                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_parhyp/ark_diurnal_kry_ph.c   || exit 1
$tar $tarfile $distrobase/examples/arkode/C_parhyp/ark_diurnal_kry_ph.out || exit 1

$tar $tarfile $distrobase/examples/arkode/C_petsc/CMakeLists.txt         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_petsc/README                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_petsc/ark_petsc_ex25.c       || exit 1
$tar $tarfile $distrobase/examples/arkode/C_petsc/ark_petsc_ex25.out     || exit 1

$tar $tarfile $distrobase/examples/arkode/C_serial/CMakeLists.txt                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/README                         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_analytic.c                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_analytic.out               || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_analytic_mels.c            || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_analytic_mels.out          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_analytic_nonlin.c          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_analytic_nonlin.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator.c              || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator.out            || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator1D.c            || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator1D.out          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator1D_FEM_slu.c    || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator1D_FEM_slu.out  || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator1D_klu.c        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator1D_klu.out      || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_fp.c           || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_fp.out         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_fp_1.out       || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_mri.c          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_mri.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_1D_mri.c       || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_brusselator_1D_mri.out     || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_heat1D.c                   || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_heat1D.out                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_heat1D_adapt.c             || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_heat1D_adapt.out           || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri.c                  || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri.out                || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_0_0.002.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_1_0.002.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_2_0.005.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_3_0.01.out         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_4_0.002.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_5_0.002.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_6_0.005.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_kpr_mri_7_0.001.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_KrylovDemo_prec.c          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_KrylovDemo_prec.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_KrylovDemo_prec_1.out      || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_KrylovDemo_prec_2.out      || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_onewaycouple_mri.c         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_onewaycouple_mri.out       || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_reaction_diffusion_mri.c   || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_reaction_diffusion_mri.out || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_robertson.c                || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_robertson.out              || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_robertson_constraints.c    || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_robertson_constraints.out  || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_robertson_root.c           || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_robertson_root.out         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_twowaycouple_mri.c         || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/ark_twowaycouple_mri.out       || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/bruss_plots.m                  || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/plot_brusselator1D.py          || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/plot_brusselator1D_FEM.py      || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/plot_heat1D.py                 || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/plot_heat1D_adapt.py           || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/plot_sol.py                    || exit 1
$tar $tarfile $distrobase/examples/arkode/C_serial/plot_sol_log.py                || exit 1

basedir=$distrobase/examples/arkode/CXX_parallel
$tar $tarfile $basedir/CMakeLists.txt                                                              || exit 1
$tar $tarfile $basedir/README                                                                      || exit 1
$tar $tarfile $basedir/plot_heat2D_p.py                                                            || exit 1
$tar $tarfile $basedir/ark_heat2D_p.cpp                                                            || exit 1
$tar $tarfile $basedir/ark_heat2D_p_--np_2_2.out                                                   || exit 1
$tar $tarfile $basedir/plot_brusselator1D.py                                                       || exit 1
$tar $tarfile $basedir/ark_brusselator1D.h                                                         || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls.cpp                                        || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls_--monitor.out                              || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls_--monitor_--global-nls.out                 || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls_--monitor_--explicit_--tf_1.out            || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls.USE_CUDA_NVEC_--monitor.out                || exit 1
$tar $tarfile $basedir/ark_brusselator1D_task_local_nls.USE_CUDA_NVEC_--monitor_--global-nls.out   || exit 1
$tar $tarfile $basedir/ark_diffusion_reaction_p.cpp                                                || exit 1
$tar $tarfile $basedir/ark_diffusion_reaction_p_--np_2_2_--imex.out                                || exit 1
$tar $tarfile $basedir/ark_diffusion_reaction_p_--np_2_2_--mri-arkstep.out                         || exit 1
$tar $tarfile $basedir/ark_diffusion_reaction_p_--np_2_2_--mri-cvode-global.out                    || exit 1
$tar $tarfile $basedir/ark_diffusion_reaction_p_--np_2_2_--mri-cvode-local.out                     || exit 1

$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/CMakeLists.txt                     || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/README                             || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/ark_heat2D_hypre_ls.cpp            || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/ark_heat2D_hypre_ls_--np_2_2.out   || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/ark_heat2D_hypre_pfmg.cpp          || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/ark_heat2D_hypre_pfmg_--np_2_2.out || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_parhyp/plot_heat2D_p.py                   || exit 1

$tar $tarfile $distrobase/examples/arkode/CXX_serial/CMakeLists.txt              || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/README                      || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_analytic_sys.cpp        || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_analytic_sys.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_heat2D.cpp              || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_heat2D.out              || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt.cpp              || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_0_3_0_-10_0.out  || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_0_4_1.out        || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_0_-4.out         || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_0_5.out          || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_1_-3_0_-10_0.out || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_1_4.out          || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_1_-5.out         || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_2_4_0_-10_0.out  || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_2_-5_0_-10.out   || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/ark_kpr_Mt_2_8_0_-10.out    || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/plot_heat2D.py              || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_serial/plot_sol.py                 || exit 1

$tar $tarfile $distrobase/examples/arkode/CXX_superludist/CMakeLists.txt                    || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_superludist/README                            || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_superludist/ark_brusselator1D_FEM_sludist.cpp || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_superludist/ark_brusselator1D_FEM_sludist.out || exit 1

$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/CMakeLists.txt                                                || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/README.md                                                     || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/ark_heat2D_hypre_pfmg_xbraid.cpp                              || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/ark_heat2D_hypre_pfmg_xbraid_--np_2_1_2_--x_print_level_0.out || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/ark_heat2D_p_xbraid.cpp                                       || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/ark_heat2D_p_xbraid_--np_2_1_2_--x_print_level_0.out          || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/ark_heat2D_xbraid.cpp                                         || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/ark_heat2D_xbraid_--x_print_level_0.out                       || exit 1
$tar $tarfile $distrobase/examples/arkode/CXX_xbraid/plot_heat2D.py                                                || exit 1

$tar $tarfile $distrobase/examples/arkode/F77_parallel/CMakeLists.txt          || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_parallel/README                  || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_parallel/fark_diag_kry_bbd_p.f   || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_parallel/fark_diag_kry_bbd_p.out || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_parallel/fark_diag_non_p.f       || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_parallel/fark_diag_non_p.out     || exit 1

$tar $tarfile $distrobase/examples/arkode/F77_serial/CMakeLists.txt          || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_serial/README                  || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_serial/fark_diurnal_kry_bp.f   || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_serial/fark_diurnal_kry_bp.out || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_serial/fark_roberts_dnsL.f     || exit 1
$tar $tarfile $distrobase/examples/arkode/F77_serial/fark_roberts_dnsL.out   || exit 1

$tar $tarfile $distrobase/examples/arkode/F90_parallel/CMakeLists.txt  || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_parallel/README          || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_parallel/fark_heat2D.f90 || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_parallel/fark_heat2D.out || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_parallel/plot_heat2D.py  || exit 1

$tar $tarfile $distrobase/examples/arkode/F90_serial/CMakeLists.txt            || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/README                    || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/ark_bruss.f90             || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/ark_bruss.out             || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/ark_bruss1D_FEM_klu.f90   || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/ark_bruss1D_FEM_klu.out   || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/plot_brusselator1D_FEM.py || exit 1
$tar $tarfile $distrobase/examples/arkode/F90_serial/plot_sol.py               || exit 1

$tar $tarfile $distrobase/examples/arkode/F2003_custom/CMakeLists.txt                  || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/README                          || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/ark_analytic_complex_f2003.f90  || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/ark_analytic_complex_f2003.out  || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/ark_brusselator1D_f2003.f90     || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/ark_brusselator1D_f2003.out     || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/fnvector_complex_mod.f90        || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/fnvector_fortran_mod.f90        || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/fsunlinsol_fortran_mod.f90      || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/fsunmatrix_fortran_mod.f90      || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/test_fnvector_complex_mod.f90   || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/test_fnvector_fortran_mod.f90   || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/test_fsunlinsol_fortran_mod.f90 || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_custom/test_fsunmatrix_fortran_mod.f90 || exit 1

$tar $tarfile $distrobase/examples/arkode/F2003_parallel/CMakeLists.txt                                                         || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_parallel/README                                                                 || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_parallel/ark_brusselator1D_task_local_nls_f2003.f90                             || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_parallel/ark_brusselator1D_task_local_nls_f2003_--monitor.out                   || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_parallel/ark_brusselator1D_task_local_nls_f2003_--monitor_--explicit_--tf_3.out || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_parallel/ark_brusselator1D_task_local_nls_f2003_--monitor_--global-nls.out      || exit 1

$tar $tarfile $distrobase/examples/arkode/F2003_serial/CMakeLists.txt             || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_serial/README                     || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_serial/ark_analytic_f2003.f90     || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_serial/ark_analytic_f2003.out     || exit 1
$tar $tarfile $distrobase/examples/arkode/F2003_serial/test_ark_butcher_f2003.f90 || exit 1

echo "   --- Add arkode unit tests to $tarfile"

$tar $tarfile $distrobase/test/unit_tests/arkode/CMakeLists.txt                        || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/C_serial/CMakeLists.txt               || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/C_serial/ark_test_arkstepsetforcing.c || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/C_serial/ark_interp_check.c           || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/CXX_serial/CMakeLists.txt             || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/CXX_serial/ark_analytic_sys_mri.cpp   || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/CXX_parallel/CMakeLists.txt           || exit 1
$tar $tarfile $distrobase/test/unit_tests/arkode/CXX_parallel/ark_heat2D_mri.cpp       || exit 1
